# 文件，文件系统

## 概念

文件是以计算机硬盘为载体的存储在计算机上的信息集合

**文件系统**:就是操作系统中负责操纵和管理文件的一整套设施,它实现文件的共享和保护，方便用户**按名存取(基本目标)**，**提高文件的存取速度(最重要目标)**。

## 功能

文件管理、目录管理、文件空间管理、文件共享和保护、提供方便的接口。

# 文件的逻辑结构

1. 无结构文件(即流式文件)
2. 有结构文件(记录式文件)
   1. 顺序文件
      1. 磁带上文件一定是顺序文件
   2. 索引文件
   3. 索引顺序文件

# 目录和目录结构

## 文件控制块

在文件系统内部给每个文件惟一地设置一个文件控制块，它用于描述和控制文件的数据结构，与文件——对应。

> 联想到PCB，进程控制块，也是唯一标识

## 目录结构

1. 单极目录(不允许重名)
2. 二级目录(解决了重名问题)
   1. 主文件目录
   2. 用户文件目录
3. 树形目录(优点是方便,缺点是不便共享)
   1. 绝对路径
   2. 相对路径
4. 图形目录(实现了共享)

# 文件实现

## 文件分配方式(外存分配方式)

1. 连续分配(**有外部碎片,可直接访问**)
2. 链接分配(**解决了外部分配,但是不支持直接访问,数据易丢失**)
3. 索引分配(**加入FAT表可直接访问,减少了访问磁盘的次数**)

## 文件存储空间管理

1. 空闲表法
2. 空闲链表法
3. 位示图法

# 磁盘管理

## 磁盘地址结构

1. 柱面号
2. 盘面号
3. 扇面号

## 磁盘调度算法

1. 先到先服务算法(FCFS)
2. 最短查找时间优先算法(SSTF Shortest Seek Time First)
3. 扫描算法和LOOK算法
   1. 扫描过去再扫描回来
4. 循环扫描算法和循环LOOK算法
   1. 和3相比,扫描一次后不扫描回来,而是到原点(最开始的一个点)往后扫描
