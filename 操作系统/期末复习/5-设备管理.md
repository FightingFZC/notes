# 设备管理的目标

> 使用方便、与设备无关、效率高、管理统一。

# IO设备

## 分类

1. 存储设备或输入输出设备
2. 块设备或字符设备
3. 低速中速高速设备

## io控制方式

1. 程序直接控制方式
   1. 这种方式也可以称为查询方式，cpu不断地去查询设备控制器是否将数据放到了数据存储器中，或者从数据存储器存到设备中，当完成lO时cpu才能去干别的事。
2. 中断方式
   1. 这种方式当cpu发出指令后就可以去干别的事，当设备控制器把数据存在数据存储器后，向cpu发出中断请求，然后cpu再来处理这部分数据。
3. DMA方式
   1. 虽然中断方式提高了cpu的利用率，但是数据寄存器有限，中断是以字节单位进行中断，也就是说读取或存储一个字节后就需要进行中断，那么其实cpu的利用率还是很低的，所以就诞生了DMA方式，这种方式由DMA控制器直接将设备中的数据以数据块为单位直接传输到内存中，当传输结束后才向cpu发起中断。
4. IO通道控制方式
   1. DMA虽然大大地提升了cpu的利用率，但是DMA只能传输一个连续的数据块。所以引入了IO通道的控制方式，IO通道控制方式可以传输不连续的数据块，减少了cpu干预。cpu通过对IO通道发出指令，然后让lO通道自己工作，等数据传输完才向cpu发起中断。
   2. 这是硬件,没有自己的内存,

# 引入缓冲的目的和缓冲区的设置

## 引入缓冲的目的

1. 缓和cpu与外设间速度不匹配的矛盾
2. 提高cpu与外设之间的并行性
3. 减少对cpu的中断次数

## 缓冲区的设置方式

1. 单缓冲:当数据到达率与离去率相差很大时,可采用单缓冲方式
2. 双缓冲:当信息输入和输出率相同(或者相差不大)时,可利用双缓冲区,实现两者的并行
3. 多缓冲:对于阵发性的输入,输出,为了解决速度不匹配问题,可以设立多个缓冲区
4. 循环缓冲:
   1. 可以按照使用情况分为三个队列
      1. 空缓冲队列
      2. 输入队列
         1. 装满输入数据
      3. 输出队列
         1. 装满输出数据
   2. 四个缓冲区
      1. 收容输入的工作缓冲区
      2. 提取数据的工作缓冲区
      3. 收容输入的工作缓冲区
      4. 提取输出的工作缓冲区

# 常用设备分配技术

1. 独占设备:不能共享的设备，即:在一段时间内，该设备只允许一个进程独占。如打印机。
   1. 独占分配技术:是把独占设备固定地分配给一个进程，直至该进程完成l/O操作并释放它为止。
2. 共享设备:可由若干个进程同时共享的设备。如磁盘机。
   1. 共享分配技术:通常适用于高速、大容量的直接存取存储设备。由多个进程共享一台设备，每个进程只用其中的一部分。
3. 虚拟设备:是利用某种技术把独占设备改造成可由多个进程共享的设备。
   1. 虚拟分配技术:利用共享设备去模拟独占设备，从而使独占设备成为可共享的、快速I/O的设备。实现虚拟分配的最有名的技术是SPOOLing技术，也称作假脱机操作,提高独占设备的利用率

# 分配因素

1. 设备的固有性质
2. io设备的分配算法
3. io设备分配的安全性
4. io设备的独立性
